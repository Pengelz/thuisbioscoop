from tkinter import *
import API
import kaartje


def run(titel,dag,id):
    window = Tk()
    film = API.ophalenInfo(titel,dag)
    kopen = Button(window, text="Kaartje kopen", command=lambda :showKaartje(titel,id, film['zender']))
    kopen.place(x=10, y=10)

    y = 140
    i = 0
    j = 30
    while i <= len(film['synopsis']):
        omschrijvinglabel = Label(master=window, text=film['synopsis'][i:j])
        omschrijvinglabel.place(x=10,y=y)
        i+=30
        j+=30
        y+=20


    titellabel = Label(master=window, text='Titel: '+film['titel'])
    jaarlabel = Label(master=window, text='Jaar: '+film['jaar'])
    regisseurlabel = Label(master=window, text='Regisseur: '+film['regisseur'])
    genrelabel = Label(master=window, text='Genre: ' +film['genre'])

    titellabel.place(x=10, y=50)
    jaarlabel.place(x=10,y=70)
    regisseurlabel.place(x=10,y=90)
    genrelabel.place(x=10,y=110)

    #Foto vanaf URL op scherm, URL request? #gif
    #photo=PhotoImage(file=film['cover'])
    #photolabel=Label(master=window, image=photo)
    #photolabel.place(x=10,y=200)

    window.mainloop()

def showKaartje(titel,id, aanbieder):
    kaartje.show(koop(titel,id), id, titel, aanbieder)

def koop(titel, id):
    invoer = titel + id
    enc2 = ""
    for i in invoer:
        enc = ord(i) + 3
        enc2 = enc2 + chr(enc)
    return enc2

